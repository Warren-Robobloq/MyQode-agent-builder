module.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e){t.exports=require("fs")},function(t,e,r){t.exports=r(2)},function(t,e,r){const n=r(3)(),i=r(4).Server(n),s=r(5)(i),o=r(6),a=r(7),c=r(8),u=r(0),I=r(9),w=r(15);n.get("/",(t,e)=>{e.sendFile(`${__dirname}/index.html`)}),s.on("connection",async t=>{const e=await I.list(),r=[];e.forEach(t=>{(t.comName.includes("/dev/tty.wchusbserial")||t.comName.includes("COM"))&&r.push(t)}),s.emit("ports",r),t.on("watchPorts",async()=>{const t=await I.list(),e=[];t.forEach(t=>{(t.comName.includes("/dev/tty.wchusbserial")||t.comName.includes("COM"))&&e.push(t)}),s.emit("ports",t)}),t.on("serialConnect",async(t,e)=>{e(await I.connect(t))}),t.on("serialDisconnect",async t=>{t(await I.disconnect())}),t.on("setInfo",t=>{const e=t.action,r=t.data;switch(e){case"setLED":case"setUltrasonic":I[e](r[0],r[1],r[2],r[3]);break;case"setBuzzer":case"setMotorDirection":case"setMotorSpeed":I[e](r[0],r[1]);break;case"setSteeringEngineAngle":case"setExternalMotor":case"setMp3":I[e](r[0],r[1],r[2],r[3]);break;case"getUltrasonicValue":case"getGrayscaleSensorValue":case"getLightSensorValue":case"getSoundSensorValue":case"getTemperatureHumiditySensorValue":I[e](r[0]);break;case"getGyroscopeSensorValue":I[e](r[0],r[1],r[2]);break;case"getInfraredSensorValue":I[e](r[0]);break;case"getColorSensorValue":I[e](r[0],r[1]);break;case"getButtonInfo":I[e]();break;case"getTouchSensorValue":I[e](r[0],r[1])}}),t.on("ferret",async(t,e)=>{if("getVersion"===t){e(await I.getVersion())}}),t.on("compile",async t=>{await I.disconnect();const e=w.tmpdir("compile"),r=(new Date).getTime(),n=`${e}/${r}.ino`,i={sketch:n,libraries:[`${process.resourcesPath+"/static"}/arduino/sources/${t.board}`],board:t.board};u.writeFileSync(n,t.code),c.compile(i,(n,i)=>{if(n)throw n;const s=`${e}/${r}.hex`;u.writeFileSync(s,i),new o({board:t.board,port:t.comName}).flash(s,async t=>{t?console.error(t):console.info("done.")})})}),t.on("resetFirmware",async(t,e)=>{const r=w.tmpdir("download");try{await a(t.url,r)}catch(t){console.error(t),e(!1)}const n=await I.serialport.path,i=await I.disconnect(),s=new o({board:t.board,port:n});let c="";"mega"===t.board?c="k1":"uno"===t.board&&(c="k2"),i&&s.flash(`${r}/${c}.hex`,async t=>{t?(console.error(t),e(!1)):e(!0)})})}),i.listen(9527,()=>{console.log("listening on *:9527")})},function(t,e){t.exports=require("express")},function(t,e){t.exports=require("http")},function(t,e){t.exports=require("socket.io")},function(t,e){t.exports=require("avrgirl-arduino")},function(t,e){t.exports=require("download")},function(t,e){t.exports=require("avr-pizza")},function(t,e,r){const n=r(10),i=r(13),s=r(14);t.exports=new class extends n{async getVersion(){const t=[],e=s.setID(),r=i.getHardwareInfo(e),n=await this.write(r);return t.push(n.readUInt8(4)),t.push(n.readUInt8(5)),t.push(n.readUInt8(6)),t.join(".")}async getInterface(t){const e=s.setID(),r=i.getInterface(e,t);return(await this.write(r)).readUInt8(4)}async getAllInterfaces(){const t=s.setID(),e=i.getAllInterfaces(t),r=await this.write(e),n=[];return n.push(r.readUInt8(4)),n.push(r.readUInt8(5)),n.push(r.readUInt8(6)),n.push(r.readUInt8(7)),n.push(r.readUInt8(8)),n.push(r.readUInt8(9)),n.push(r.readUInt8(10)),n.push(r.readUInt8(11)),n.push(r.readUInt8(12)),n.push(r.readUInt8(13)),n}async getMotorInfo(){const t=s.setID(),e=i.getMotorInfo(t),r=await this.write(e),n=[];return n.push(r.readUInt8(4)),n.push(r.readUInt8(5)),n}async getPortInfo(){const t=s.setID(),e=i.getPortInfo(t),r=await this.write(e),n=[];return n.push(r.readUInt8(4)),n.push(r.readUInt8(5)),n.push(r.readUInt8(6)),n.push(r.readUInt8(7)),n.push(r.readUInt8(8)),n.push(r.readUInt8(9)),n.push(r.readUInt8(10)),n.push(r.readUInt8(11)),n}async setLED(t,e,r,n){const o=s.setID(),a=i.setLED(o,t,e,r,n);return(await this.write(a)).readUInt8(4)}async setMotorDirection(t,e){const r=s.setID(),n=i.setMotorDirection(r,t,e);return(await this.write(n)).readUInt8(4)}async setMotorSpeed(t,e){const r=s.setID(),n=i.setMotorSpeed(r,t,e);return(await this.write(n)).readUInt8(4)}async setMotorCycle(t,e){const r=s.setID(),n=i.setMotorCycle(r,t,e);return(await this.write(n)).readUInt8(4)}async setUltrasonic(t,e,r,n){const o=s.setID(),a=i.setUltrasonic(o,t,e,r,n);return(await this.write(a)).readUInt8(4)}setBuzzer(t,e){const r=s.setID(),n=i.setBuzzer(r,t,e);this.writeWithoutResponse(n)}async setMatrix(t,e){const r=s.setID(),n=i.setMatrix(r,t,e);return(await this.write(n)).readUInt8(4)}async setLowVoltageReport(t){const e=s.setID(),r=i.setLowVoltageReport(e,t);return(await this.write(r)).readUInt8(4)}async setButtonReport(t){const e=s.setID(),r=i.setButtonReport(e,t);return(await this.write(r)).readUInt8(4)}async setSteeringEngineAngle(t,e,r,n){const o=s.setID(),a=i.setSteeringEngineAngle(o,t,e,r,n);return(await this.write(a)).readUInt8(4)}async setExternalMotor(t,e,r,n){const o=s.setID(),a=i.setExternalMotor(o,t,e,r,n);return(await this.write(a)).readUInt8(4)}async setMp3(t,e,r,n){const o=s.setID(),a=i.setMp3(o,t,e,r,n);return(await this.write(a)).readUInt8(4)}async getUltrasonicValue(t){const e=s.setID(),r=i.getUltrasonicValue(e,t),n=await this.write(r);return{status:n.readUInt8(4),distance:n.readUInt8(5)}}async getButtonInfo(){const t=s.setID(),e=i.getButtonInfo(t),r=await this.write(e);return{status:r.readUInt8(4),press:r.readUInt8(5)}}async getTouchSensorValue(t,e){const r=s.setID(),n=i.getTouchSensorValue(r,t,e),o=await this.write(n);return{status:o.readUInt8(4),value:o.readUInt8(5)}}async getBatteryVoltage(){const t=s.setID(),e=i.getBatteryVoltage(t),r=await this.write(e);return{status:r.readUInt8(4),value:r.readUInt8(5)}}async getGrayscaleSensorValue(t){const e=s.setID(),r=i.getGrayscaleSensorValue(e,t),n=await this.write(r);return{status:n.readUInt8(4),value:n.readUInt8(5)}}async getTemperatureHumiditySensorValue(t){const e=s.setID(),r=i.getTemperatureHumiditySensorValue(e,t),n=await this.write(r),o=n.readUInt8(4),a=`${n.readUInt8(7)}.${n.readUInt8(8)}`,c=`${n.readUInt8(5)}.${n.readUInt8(6)}`;return{status:o,temperature:parseFloat(a).toFixed(1),humidity:parseFloat(c).toFixed(1)}}async getLightSensorValue(t){const e=s.setID(),r=i.getLightSensorValue(e,t),n=await this.write(r);return{status:n.readUInt8(4),value:256*n.readUInt8(5)+n.readUInt8(6)}}async getSoundSensorValue(t){const e=s.setID(),r=i.getSoundSensorValue(e,t),n=await this.write(r);return{status:n.readUInt8(4),value:256*n.readUInt8(5)+n.readUInt8(6)}}async getInfraredSensorValue(t){const e=s.setID(),r=i.getInfraredSensorValue(e,t),n=await this.write(r);return{status:n.readUInt8(4),value:n.readUInt8(5)}}async getColorSensorValue(t,e){const r=s.setID(),n=i.getColorSensorValue(r,t,e),o=await this.write(n),a=o.readUInt8(4);let c="";return c="0x02"===e||2===e?i.parseColorSensorValueGrey(o):[256*o.readUInt8(6)+o.readUInt8(7),256*o.readUInt8(8)+o.readUInt8(9),256*o.readUInt8(10)+o.readUInt8(11),256*o.readUInt8(12)+o.readUInt8(13)].join(","),{status:a,value:c}}async getGyroscopeSensorValue(t,e,r){const n=s.setID(),o=i.getGyroscopeSensorValue(n,t,e),a=await this.write(o);return{status:a.readUInt8(4),value:i.parseGyroValue(a)[r]}}}},function(t,e,r){const n=r(11),i=r(12);const s=new class extends i{};t.exports=class{constructor(){this.serialport=null,this.dataList=[]}async list(){try{return await n.list()}catch(t){return[]}}async connect(t){return this.serialport=new n(t,{baudRate:115200,autoOpen:!1}),this.serialport.on("data",t=>{this.dataList.push(t)}),this.serialport.on("close",()=>{s.emit("serialportClose")}),await this.isOpen()}isOpen(){return new Promise((t,e)=>{this.serialport.open(r=>{r?e(!1):t(!0)})})}disconnect(){return new Promise((t,e)=>{this.serialport.close(r=>{r?e(!1):t(!0)})})}writeWithoutResponse(t){this.serialport.write(t,t=>{t&&console.error(t)})}write(t){return new Promise((e,r)=>{this.serialport.write(t,t=>{t?r(!1):this.serialport.on("data",t=>{e(t)})})})}}},function(t,e){t.exports=require("serialport")},function(t,e){t.exports=require("events")},function(t,e){const r=t=>{let e=0;for(let r=0;r<t.length;r++)e+=t[r];return e%256};t.exports=new class{constructor(){this.action={deviceInfo:1,interface:2,allInterfaces:3,motorInfo:4,portInfo:5,LED:16,motorSpeed:17,ultrasonic:18,buzzer:19,matrix:20,lowVoltage:21,buttonReport:22,motorCycle:23,workPattern:24,steeringAngle:25,externalMotor:26,mp3:28,ultrasonicValue:161,buttonInfo:162,batteryVoltage:163,grayscaleSensorValue:164,temperatureHumiditySensorValue:165,lightSensor:166,soundSensor:167,infraredSensor:168,gyroscopeSensor:169,colorSensor:170,touchSensor:171},this.ports={M1:-1,M2:-2,power:-3,LED1:-4,LED2:-5,LED0:0,buzzer:-6,button:-7},this.devicesList=[1,2,3,4,5,6,7,8,9,10,11,12,13,14]}getHardwareInfo(t){const e=Buffer.alloc(6);return e.write("RB",0,2,"utf8"),e.writeUInt8(6,2),e.writeUInt8(t,3),e.writeUInt8(this.action.deviceInfo,4),e.writeUInt8(r(e),5),e}getInterface(t,e){const n=Buffer.alloc(7);return n.write("RB",0,2,"utf8"),n.writeUInt8(7,2),n.writeUInt8(t,3),n.writeUInt8(this.action.interface,4),n.writeInt8(e,5),n.writeUInt8(r(n),6),n}getAllInterfaces(t){const e=Buffer.alloc(6);return e.write("RB",0,2,"utf8"),e.writeUInt8(6,2),e.writeUInt8(t,3),e.writeUInt8(this.action.allInterfaces,4),e.writeUInt8(r(e),5),e}getMotorInfo(t){const e=Buffer.alloc(6);return e.write("RB",0,2,"utf8"),e.writeUInt8(6,2),e.writeUInt8(t,3),e.writeUInt8(this.action.motorInfo,4),e.writeUInt8(r(e),5),e}getPortInfo(t){const e=Buffer.alloc(6);return e.write("RB",0,2,"utf8"),e.writeUInt8(6,2),e.writeUInt8(t,3),e.writeUInt8(this.action.portInfo,4),e.writeUInt8(r(e),5),e}setLED(t,e,n,i,s){let o=0;o=1===e?this.ports.LED1:2===e?this.ports.LED2:this.ports.LED0;const a=Buffer.alloc(10);return a.write("RB",0,2,"utf8"),a.writeUInt8(10,2),a.writeUInt8(t,3),a.writeUInt8(this.action.LED,4),a.writeInt8(o,5),a.writeUInt8(n,6),a.writeUInt8(i,7),a.writeUInt8(s,8),a.writeUInt8(r(a),9),a}setMotorDirection(t,e,n){const i=Buffer.alloc(9);return i.write("RB",0,2,"utf8"),i.writeUInt8(9,2,!1),i.writeUInt8(t,3,!1),i.writeUInt8(this.action.motorSpeed,4,!1),i.writeInt8(0,5,!1),i.writeInt8(e,6,!1),i.writeInt8(n,7,!1),i.writeUInt8(r(i),8,!1),i}setMotorSpeed(t,e,n){const i=Buffer.alloc(8);return i.write("RB",0,2,"utf8"),i.writeUInt8(8,2),i.writeUInt8(t,3),i.writeUInt8(this.action.motorSpeed,4),i.writeInt8(1===e?this.ports.M1:this.ports.M2,5),i.writeInt8(n,6),i.writeUInt8(r(i),7),i}setMotorCycle(t,e,n){const i=Buffer.alloc(8);return i.write("RB",0,2,"utf8"),i.writeUInt8(8,2),i.writeUInt8(t,3),i.writeUInt8(this.action.motorCycle,4),i.writeInt8(1===e?this.ports.M1:this.ports.M2,5),i.writeInt8(n,6),i.writeUInt8(r(i),7),i}setUltrasonic(t,e,n,i,s){const o=Buffer.alloc(10);return o.write("RB",0,2,"utf8"),o.writeUInt8(10,2),o.writeUInt8(t,3),o.writeUInt8(this.action.ultrasonic,4),o.writeInt8(e,5),o.writeUInt8(n,6),o.writeUInt8(i,7),o.writeUInt8(s,8),o.writeUInt8(r(o),9),o}setBuzzer(t,e,n){const i=Buffer.alloc(11);return i.write("RB",0,2,"utf8"),i.writeUInt8(11,2),i.writeUInt8(t,3),i.writeUInt8(this.action.buzzer,4),i.writeInt8(this.ports.buzzer,5),i.writeUInt16BE(e,6),i.writeUInt16BE(n,8),i.writeUInt8(r(i),10),i}setMatrix(t,e,n){const i=Buffer.alloc(27);return i.write("RB",0,2,"utf8"),i.writeUInt8(27,2),i.writeUInt8(t,3),i.writeUInt8(this.action.matrix,4),i.writeInt8(e,5),i.writeUInt16BE(n[0],6),i.writeUInt16BE(n[1],8),i.writeUInt16BE(n[2],10),i.writeUInt16BE(n[3],12),i.writeUInt16BE(n[4],14),i.writeUInt16BE(n[5],16),i.writeUInt16BE(n[6],18),i.writeUInt16BE(n[7],20),i.writeUInt16BE(n[8],22),i.writeUInt16BE(n[9],24),i.writeUInt8(r(i),26),i}setLowVoltageReport(t,e){const n=Buffer.alloc(8);return n.write("RB",0,2,"utf8"),n.writeUInt8(8,2),n.writeUInt8(t,3),n.writeUInt8(this.action.lowVoltage,4),n.writeInt8(this.ports.power,5),n.writeInt8(e,6),n.writeUInt8(r(n),7),n}setButtonReport(t,e){const n=Buffer.alloc(8);return n.write("RB",0,2,"utf8"),n.writeUInt8(8,2),n.writeUInt8(t,3),n.writeUInt8(this.action.buttonReport,4),n.writeInt8(this.ports.button,5),n.writeInt8(e,6),n.writeUInt8(r(n),7),n}setTouchSensorReport(){}setWorkPattern(t,e,n,i){const s=Buffer.alloc(9);return s.write("RB",0,2,"utf8"),s.writeUInt8(9,2),s.writeUInt8(t,3),s.writeUInt8(this.action.workPattern,4),s.writeInt8(e,5),s.writeInt8(n,6),s.writeInt8(i,7),s.writeUInt8(r(s),8),s}setSteeringEngineAngle(t,e,n,i,s){const o=Buffer.alloc(10);return o.write("RB",0,2,"utf8"),o.writeUInt8(10,2),o.writeUInt8(t,3),o.writeUInt8(this.action.steeringAngle,4),o.writeInt8(e,5),o.writeUInt8(n,6),o.writeUInt8(i,7),o.writeUInt8(s,8),o.writeUInt8(r(o),9),o}setExternalMotor(t,e,n,i,s){const o=Buffer.alloc(10);return o.write("RB",0,2,"utf8"),o.writeUInt8(10,2),o.writeUInt8(t,3),o.writeUInt8(this.action.externalMotor,4),o.writeInt8(e,5),o.writeUInt8(n,6),o.writeInt8(i,7),o.writeInt8(s,8),o.writeUInt8(r(o),9),o}setMp3(t,e,n,i,s){const o=Buffer.alloc(10);return o.write("RB",0,2,"utf8"),o.writeUInt8(10,2),o.writeUInt8(t,3),o.writeUInt8(this.action.mp3,4),o.writeInt8(e,5),o.writeUInt8(n,6),o.writeUInt8(i,7),o.writeUInt8(s,8),o.writeUInt8(r(o),9),o}setRGBLedMatrix(){}getUltrasonicValue(t,e){const n=Buffer.alloc(7);return n.write("RB",0,2,"utf8"),n.writeUInt8(7,2),n.writeUInt8(t,3),n.writeUInt8(this.action.ultrasonicValue,4),n.writeInt8(e,5),n.writeUInt8(r(n),6),n}getButtonInfo(t){const e=Buffer.alloc(7);return e.write("RB",0,2,"utf8"),e.writeUInt8(7,2),e.writeUInt8(t,3),e.writeUInt8(this.action.buttonInfo,4),e.writeInt8(this.ports.button,5),e.writeUInt8(r(e),6),e}getTouchSensorValue(t,e){const n=Buffer.alloc(7);return n.write("RB",0,2,"utf8"),n.writeUInt8(7,2,!1),n.writeUInt8(t,3,!1),n.writeUInt8(this.action.touchSensor,4,!1),n.writeInt8(e,5,!1),n.writeUInt8(r(n),6,!1),n}getBatteryVoltage(t){const e=Buffer.alloc(7);return e.write("RB",0,2,"utf8"),e.writeUInt8(7,2),e.writeUInt8(t,3),e.writeUInt8(this.action.batteryVoltage,4),e.writeInt8(this.ports.power,5),e.writeUInt8(r(e),6),e}getGrayscaleSensorValue(t,e){const n=Buffer.alloc(7);return n.write("RB",0,2,"utf8"),n.writeUInt8(7,2),n.writeUInt8(t,3),n.writeUInt8(this.action.grayscaleSensorValue,4),n.writeInt8(e,5),n.writeUInt8(r(n),6),n}getTemperatureHumiditySensorValue(t,e){const n=Buffer.alloc(7);return n.write("RB",0,2,"utf8"),n.writeUInt8(7,2),n.writeUInt8(t,3),n.writeUInt8(this.action.temperatureHumiditySensorValue,4),n.writeInt8(e,5),n.writeUInt8(r(n),6),n}getLightSensorValue(t,e){const n=Buffer.alloc(7);return n.write("RB",0,2,"utf8"),n.writeUInt8(7,2),n.writeUInt8(t,3),n.writeUInt8(this.action.lightSensor,4),n.writeInt8(e,5),n.writeUInt8(r(n),6),n}getSoundSensorValue(t,e){const n=Buffer.alloc(7);return n.write("RB",0,2,"utf8"),n.writeUInt8(7,2),n.writeUInt8(t,3),n.writeUInt8(this.action.soundSensor,4),n.writeInt8(e,5),n.writeUInt8(r(n),6),n}getInfraredSensorValue(t,e){const n=Buffer.alloc(7);return n.write("RB",0,2,"utf8"),n.writeUInt8(7,2),n.writeUInt8(t,3),n.writeUInt8(this.action.infraredSensor,4),n.writeInt8(e,5),n.writeUInt8(r(n),6),n}getColorSensorValue(t,e,n){const i=Buffer.alloc(8);return i.write("RB",0,2,"utf8"),i.writeUInt8(8,2),i.writeUInt8(t,3),i.writeUInt8(this.action.colorSensor,4),i.writeInt8(e,5),i.writeInt8(n,6),i.writeUInt8(r(i),7),i}getGyroscopeSensorValue(t,e,n){const i=Buffer.alloc(8);return i.write("RB",0,2,"utf8"),i.writeUInt8(8,2),i.writeUInt8(t,3),i.writeUInt8(this.action.gyroscopeSensor,4),i.writeInt8(e,5),i.writeInt8(n,6),i.writeUInt8(r(i),7),i}parseGyroValue(t){if(!t||t.length<5)return 0;const e=t.readUInt8(6,!1);let r=256*t.readUInt8(7,!1)+t.readUInt8(8,!1);r=0===e?-r:r;const n=t.readUInt8(9,!1);let i=256*t.readUInt8(10,!1)+t.readUInt8(11,!1);i=0===n?-i:i;const s=t.readUInt8(12,!1);let o=256*t.readUInt8(13,!1)+t.readUInt8(14,!1);return o=0===s?-o:o,[parseInt(r/100),parseInt(i/100),parseInt(o/100)]}parseColorSensorValueGrey(t){return!t||t.length<5?0:256*t.readUInt8(6,!1)+t.readUInt8(7,!1)}}},function(t,e){t.exports=new class{constructor(){this.id=1}setID(){return this.id=this.id+1,this.id>=255&&(this.id=2),this.id}getID(){return this.id}}},function(t,e,r){const n=r(16),i=r(0),s=r(17);t.exports=new class{tmpdir(t){const e=`${n.tmpdir()}/com.robobloq.agent/${t}`;return i.existsSync(e)||s.sync(e),e}}},function(t,e){t.exports=require("os")},function(t,e){t.exports=require("mkdirp")}]);
//# sourceMappingURL=renderer.js.map